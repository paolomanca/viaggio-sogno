<ui:composition template="/WEB-INF/templates/layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<f:metadata>
		<f:viewParam name="act" value="#{finalProductBean.act}"
			required="true" />
		<f:viewParam name="fPkgID" value="#{finalProductBean.fPkgID}"
			required="true" />
		<f:viewParam name="fPrID" value="#{finalProductBean.fPrID}" />
		<f:viewParam name="prID" value="#{finalProductBean.prID}" />
	</f:metadata>

	<ui:define name="page-title">Final Flight</ui:define>

	<ui:define name="breadcrumb">
		<p:menuitem value="Package" outcome="showFinalPackage">
			<f:param name="fPkgID" value="#{param['fPkgID']}" />
		</p:menuitem>
		<p:menuitem value="Flight" />
	</ui:define>

	<ui:define name="content">



		<h:form id="flightForm">
			<p:panel>
				<p:panelGrid id="flightGrid" styleClass="no-border-grid">

					<p:row>
						<p:column>
							<h:outputLabel for="depAirport">From:</h:outputLabel>
						</p:column>
						<p:column colspan="2">
							<h:outputText id="depAirport"
								value="#{finalProductBean.finalProduct.depAirport}" />
						</p:column>
					</p:row>
					<p:row>
						<p:column>
							<h:outputLabel for="arrAirport">To:</h:outputLabel>
						</p:column>
						<p:column colspan="2">
							<h:outputText id="arrAirport"
								value="#{finalProductBean.finalProduct.arrAirport}" />
						</p:column>
					</p:row>
					<p:row>
						<p:column>
							<h:outputLabel for="flightLength">Length:</h:outputLabel>
						</p:column>
						<p:column colspan="2">
							<h:outputText id="flightLength"
								value="#{finalProductBean.finalProduct.flightLength}" />
						</p:column>
					</p:row>
					<p:row>
						<p:column>
							<h:outputLabel for="price">Price:</h:outputLabel>
						</p:column>
						<p:column colspan="2">
							<h:outputText id="price"
								value="#{finalProductBean.finalProduct.price}" />
						</p:column>
					</p:row>
					<p:row>
						<p:column colspan="3">
							<p:separator />
						</p:column>
					</p:row>
					<p:row>
						<p:column>
							<h:outputLabel for="departure" value="Departure" />
						</p:column>
						<p:column>
							<p:calendar id="departure"
								value="#{finalProductBean.finalProduct.departure}"
								pattern="dd/MM/yyyy HH:mm" />
						</p:column>
						<p:column>
							<p:message for="departure" />
						</p:column>
					</p:row>
				</p:panelGrid>

				<p:spacer height="40px" width="5px" />

				<p:commandButton value="Update" update="flightGrid"
					action="#{finalProductBean.update()}"
					rendered="#{param['act'] == 'edit'}">
					<f:param name="act" value="#{param['act']}" />
					<f:param name="type" value="#{param['type']}" />
					<f:param name="fPrID" value="#{param['fPrID']}" />
				</p:commandButton>

				<p:commandButton value="Finalize" update="flightGrid"
					action="#{finalProductBean.add()}"
					rendered="#{param['act'] == 'create'}">
					<f:param name="act" value="#{param['act']}" />
					<f:param name="type" value="#{param['type']}" />
					<f:param name="fPkgID" value="#{param['fPkgID']}" />
					<f:param name="prID" value="#{param['prID']}" />
				</p:commandButton>

			</p:panel>
		</h:form>

	</ui:define>
</ui:composition>